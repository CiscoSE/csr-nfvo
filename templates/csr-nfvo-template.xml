<config-template xmlns="http://tail-f.com/ns/config/1.0">
  <nfv xmlns="urn:etsi:nfv:yang:etsi-nfv-descriptors">
    <vnf-info xmlns="http://cisco.com/ns/nso/cfp/cisco-etsi-nfvo">
      <name>{name}</name>
      <username>admin</username>
      <vnfd>virtual-router</vnfd>
      <vnfd-flavour>basic</vnfd-flavour>
      <instantiation-level>basic</instantiation-level>
      <vnfm>YOUR_ESC_DEVICE_NAME</vnfm>
      <vnfm-type>netconf</vnfm-type>
      <vim-type>vcenter</vim-type>
      <vmware-locators>
        <datacenter>YOUR_VCENTER_DATACENTER</datacenter>
      </vmware-locators>
      <vdu>
        <id>csr</id>
        <managed/>
        <management-port>22</management-port>
        <vim-vm-name>{name}</vim-vm-name>
        <image-name>csr1000v-universalk9.17.02.02-vga</image-name>
        <bootup-time>600</bootup-time>
        <recovery-wait-time>600</recovery-wait-time>
        <netconf-volume>
          <name>{datastore}</name>
          <id>1</id>
        </netconf-volume>
        <device-name-pool>
          <device-name>{name}</device-name>
        </device-name-pool>
        <resource-allocation>
          <host-placement>{host}</host-placement>
        </resource-allocation>
        <artifact>
          <id>iosxe_config.txt</id>
          <url>YOUR_DAY0_HTTP_REPO/configs/ios-xe.cfg</url>
          <variable>
            <name>GATEWAY</name>
            <value>{mgmt_gateway}</value>
          </variable>
          <variable>
            <name>HOSTNAME</name>
            <value>{name}</value>
          </variable>
          <variable>
            <name>MGMT_IP_ADDRESS</name>
            <value>{mgmt_ip}</value>
          </variable>
          <variable>
            <name>MGMT_NETMASK</name>
            <value>{mgmt_netmask}</value>
          </variable>
        </artifact>
        <authgroup>lwr-default</authgroup>
        <internal-connection-point>
          <id>int-left</id>
        </internal-connection-point>
        <internal-connection-point>
          <id>int-mgmt</id>
          <connection-point-address>
            <netconf-parameters>
              <address>{mgmt_ip}</address>
              <mac-address>{mgmt_mac}</mac-address>
              <mac-address-range>
                <start>{mgmt_mac}</start>
                <end>{mgmt_mac}</end>
              </mac-address-range>
              <netmask>{mgmt_netmask}</netmask>
              <gateway>{mgmt_gateway}</gateway>
            </netconf-parameters>
          </connection-point-address>
        </internal-connection-point>
        <internal-connection-point>
          <id>int-right</id>
        </internal-connection-point>
      </vdu>
      <vnfd-connection-point>
        <id>left</id>
        <network-name>YOUR_LEFT_DPORT</network-name>
      </vnfd-connection-point>
      <vnfd-connection-point>
        <id>mgmt</id>
        <network-name>YOUR_MGMT_DPORT</network-name>
      </vnfd-connection-point>
      <vnfd-connection-point>
        <id>right</id>
        <network-name>YOUR_RIGHT_DPORT</network-name>
      </vnfd-connection-point>
    </vnf-info>
  </nfv>
</config-template>
